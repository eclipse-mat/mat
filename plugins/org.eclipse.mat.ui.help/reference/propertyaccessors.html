<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="Property Accessors"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Relation" scheme="URI" content="../reference/oqlsyntax.html"/>
<meta name="copyright" content="Copyright (c) 2008, 2010 SAP AG and others. All rights reserved. This program and the accompanying materials are made available under the terms of the Eclipse Public License v1.0 which accompanies this distribution, and is available at http://www.eclipse.org/legal/epl-v10.html " type="primary"/>
<meta name="DC.Rights.Owner" content="Copyright (c) 2008, 2010 SAP AG and others. All rights reserved. This program and the accompanying materials are made available under the terms of the Eclipse Public License v1.0 which accompanies this distribution, and is available at http://www.eclipse.org/legal/epl-v10.html " type="primary"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="propertyaccessors"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../styles/commonltr.css"/>
<title>Property Accessors</title>
</head>
<body id="propertyaccessors">


	<h1 class="title topictitle1">Property Accessors</h1>

	
	

	<div class="body refbody"><p class="shortdesc"/>

		<div class="section"><h2 class="title sectiontitle">Accessing fields of the heap object</h2>
			
			<p class="p"> Properties of heap objects are accessed using a simple dot
				notation:</p>

			<p class="p"> [ &lt;alias&gt;. ] &lt;field&gt; . &lt;field&gt;.
				&lt;field&gt;
			</p>

			<p class="p">
				An
				<strong class="ph b">alias</strong>
				can be defined in the
				<a class="xref" href="oqlsyntaxfrom.html">FROM Clause</a>
				to identify the current object, i.e. row in the SQL
				analogy, on which the OQL statement operates. Without
				alias, the field is assumed to be one of the fields of
				the current object.
				<strong class="ph b">Fields</strong>
				are attributes of the Java objects in the heap dump. Use
				<a class="xref" href="tipsandtricks.html#oqlcompletion">OQL autocompletion</a>
				or the
				<span class="keyword cmdname">Object Inspector</span>
				to find out about the available fields of an object.
			</p>

		</div>

		<div class="section"><h2 class="title sectiontitle">Accessing Java Bean properties</h2>
			
			<p class="p">[ &lt;alias&gt;. ] @&lt;attribute&gt; ...</p>

			<p class="p">
				Using the @ symbol, OQL accesses attributes of the
				underlying Java objects used by Memory Analyzer to represent
				objects in the heap dump. The attributes are resolved via
				Bean Introspection. Use
				<a class="xref" href="tipsandtricks.html#oqlcompletion">OQL autocompletion</a>
				to find the common beans names. 
				The following table lists some
				commonly used Java attributes.
			</p>

			<table cellpadding="4" cellspacing="0" summary="" id="propertyaccessors__javabean_prop" border="1" class="simpletable"><tr class="strow">
					<td valign="top" class="stentry" width="22.22222222222222%">Any heap object</td>

					<td valign="top" class="stentry" width="22.22222222222222%"><a class="xref" href="../../../ntopic/org.eclipse.mat.ui.help/doc/org/eclipse/mat/snapshot/model/IObject.html#method_summary">IObject</a></td>

					<td valign="top" class="stentry" width="22.22222222222222%">objectId</td>

					<td valign="top" class="stentry" width="33.33333333333333%">id of snapshot object</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry"> </td>

					<td valign="top" class="stentry"> </td>

					<td valign="top" class="stentry">objectAddress</td>

					<td valign="top" class="stentry">address of snapshot object</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry"> </td>

					<td valign="top" class="stentry"> </td>

					<td valign="top" class="stentry">class</td>

					<td valign="top" class="stentry">Java class of this object</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry"> </td>

					<td valign="top" class="stentry"> </td>

					<td valign="top" class="stentry">clazz</td>

					<td valign="top" class="stentry">IClass of this object. See also classof(object).</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry"> </td>

					<td valign="top" class="stentry"> </td>

					<td valign="top" class="stentry">usedHeapSize</td>

					<td valign="top" class="stentry">shallow heap size</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry"> </td>

					<td valign="top" class="stentry"> </td>

					<td valign="top" class="stentry">retainedHeapSize</td>

					<td valign="top" class="stentry">retained heap size</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry"> </td>

					<td valign="top" class="stentry"> </td>

					<td valign="top" class="stentry">displayName</td>

					<td valign="top" class="stentry">display name</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry">Class object</td>

					<td valign="top" class="stentry"><a class="xref" href="../../../ntopic/org.eclipse.mat.ui.help/doc/org/eclipse/mat/snapshot/model/IClass.html#method_summary">IClass</a></td>

					<td valign="top" class="stentry">classLoaderId</td>

					<td valign="top" class="stentry">id of the class loader</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry">Any array</td>

					<td valign="top" class="stentry"><a class="xref" href="../../../ntopic/org.eclipse.mat.ui.help/doc/org/eclipse/mat/snapshot/model/IArray.html#method_summary">IArray</a></td>

					<td valign="top" class="stentry">length</td>

					<td valign="top" class="stentry">length of the array</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry">Primitive array</td>

					<td valign="top" class="stentry"><a class="xref" href="../../../ntopic/org.eclipse.mat.ui.help/doc/org/eclipse/mat/snapshot/model/IPrimitiveArray.html#method_summary">IPrimitiveArray</a></td>

					<td valign="top" class="stentry">valueArray</td>

					<td valign="top" class="stentry">the values in the array</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry">Reference array</td>

					<td valign="top" class="stentry"><a class="xref" href="../../../ntopic/org.eclipse.mat.ui.help/doc/org/eclipse/mat/snapshot/model/IObjectArray.html#method_summary">IObjectArray</a></td>

					<td valign="top" class="stentry">referenceArray</td>

					<td valign="top" class="stentry">the objects in the array (as long values, the addresses of the objects)
					Access a particular element using get() and convert to an object using OBJECTS.
					</td>

				</tr>
</table>

		</div>

		<div class="section"><h2 class="title sectiontitle">Calling Java methods</h2>
			
			<pre class="pre codeblock">[ &lt;alias&gt; . ] @&lt;method&gt;( [ &lt;expression&gt;, &lt;expression&gt; ] ) ...</pre>

			<p class="p">
				Adding ( ) forces OQL to interpret this as a Java method
				call. The call is executed via reflection. The following table lists some
				common Java methods on the underlying Java objects used by Memory Analyzer to represent
				objects in the heap dump.
			</p>

			<table cellpadding="4" cellspacing="0" summary="" id="propertyaccessors__javabean_prop" border="1" class="simpletable"><tr class="strow">
					<td valign="top" class="stentry" width="22.22222222222222%">${snapshot}</td>

					<td valign="top" class="stentry" width="22.22222222222222%"><a class="xref" href="../../../ntopic/org.eclipse.mat.ui.help/doc/org/eclipse/mat/snapshot/ISnapshot.html#method_summary">ISnapshot</a></td>

					<td valign="top" class="stentry" width="22.22222222222222%">
						<pre class="pre codeblock"><a class="xref" href="../../../ntopic/org.eclipse.mat.ui.help/doc/org/eclipse/mat/snapshot/ISnapshot.html#getClasses()">getClasses()</a></pre>

					</td>

					<td valign="top" class="stentry" width="33.33333333333333%">a collection of all classes</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry"> </td>

					<td valign="top" class="stentry"> </td>

					<td valign="top" class="stentry">
						<pre class="pre codeblock"><a class="xref" href="../../../ntopic/org.eclipse.mat.ui.help/doc/org/eclipse/mat/snapshot/ISnapshot.html#getClassesByName(java.util.regex.Pattern,%20boolean)">getClassesByName(String name, boolean includeSubClasses)</a></pre>

					</td>

					<td valign="top" class="stentry">a collection of classes</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry">Class object</td>

					<td valign="top" class="stentry"><a class="xref" href="../../../ntopic/org.eclipse.mat.ui.help/doc/org/eclipse/mat/snapshot/model/IClass.html#method_summary">IClass</a></td>

					<td valign="top" class="stentry">
						<pre class="pre codeblock"><a class="xref" href="../../../ntopic/org.eclipse.mat.ui.help/doc/org/eclipse/mat/snapshot/model/IClass.html#hasSuperClass()">hasSuperClass()</a></pre>

					</td>

					<td valign="top" class="stentry">
						result is true if the class has a super class
					</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry"> </td>

					<td valign="top" class="stentry"> </td>

					<td valign="top" class="stentry">
						<pre class="pre codeblock"><a class="xref" href="../../../ntopic/org.eclipse.mat.ui.help/doc/org/eclipse/mat/snapshot/model/IClass.html#isArrayType()">isArrayType()</a></pre>

					</td>

					<td valign="top" class="stentry">
						the result is true if the class is an array type
					</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry">Any heap object</td>

					<td valign="top" class="stentry"><a class="xref" href="../../../ntopic/org.eclipse.mat.ui.help/doc/org/eclipse/mat/snapshot/model/IObject.html#method_summary">IObject</a></td>

					<td valign="top" class="stentry">
						<pre class="pre codeblock"><a class="xref" href="../../../ntopic/org.eclipse.mat.ui.help/doc/org/eclipse/mat/snapshot/model/IObject.html#getObjectAddress()">getObjectAddress()</a></pre>

					</td>

					<td valign="top" class="stentry">
						The address of a snapshot object as a long integer
					</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry">Primitive array</td>

					<td valign="top" class="stentry"><a class="xref" href="../../../ntopic/org.eclipse.mat.ui.help/doc/org/eclipse/mat/snapshot/model/IPrimitiveArray.html#method_summary">IPrimitiveArray</a></td>

					<td valign="top" class="stentry">
						<pre class="pre codeblock"><a class="xref" href="../../../ntopic/org.eclipse.mat.ui.help/doc/org/eclipse/mat/snapshot/model/IPrimitiveArray.html#getValueAt(int)">getValueAt(int index)</a></pre>

					</td>

					<td valign="top" class="stentry">a value from the array</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry">Java primitive array, Java object array or Java list (returned from reflection)</td>

					<td valign="top" class="stentry">[] or List</td>

					<td valign="top" class="stentry">
						<pre class="pre codeblock">get(int index)</pre>

					</td>

					<td valign="top" class="stentry">a value from the array or list</td>

				</tr>
</table>

		</div>

		<div class="section"><h2 class="title sectiontitle">Array Access</h2>
			
			<p class="p">Memory Analyzer 1.3 or later allows direct array style access of 
			primitive arrays and objects arrays from the snapshot, and Java arrays and Java Lists
			obtained from reflective method calls. The notation is <samp class="ph codeph">[index]</samp>.
			The index is a zero-based integer. If the array is null or the index is out of range
			then the result is null.
			</p>

			<p class="p">Memory Analyzer 1.4 allows array range access as well using the notation
			<samp class="ph codeph">[index1:index2]</samp> where index1 and index2 are inclusive. If the values
			are negative then they are treated as indexing from the end of the array, so -1
			means the last entry.
			</p>

		</div>

		<div class="section"><h2 class="title sectiontitle">Reading values from primitive arrays</h2>
			
			<pre class="pre codeblock">SELECT s[2] FROM int[] s WHERE (s.@length &gt; 2)</pre>

			<p class="p">This method is for Memory Analyzer 1.3 or later.</p>

			<pre class="pre codeblock">SELECT s.getValueAt(2) FROM int[] s WHERE (s.@length &gt; 2)</pre>

			<p class="p">This method is for all versions of Memory Analyzer.
				This reads the value of the element at index 2 from all int[] arrays which have at least 3 elements.
			</p>

		</div>

		<div class="section"><h2 class="title sectiontitle">Reading objects from object arrays</h2>
			
			<pre class="pre codeblock">SELECT s[2] FROM java.lang.Object[] s WHERE (s.@length &gt; 2)</pre>

			<p class="p">This method is for Memory Analyzer 1.3 or later.
			<samp class="ph codeph">s[2]</samp>is an IObject so fields and Java bean properties can be accessed</p>

			<pre class="pre codeblock">SELECT OBJECTS s[2] FROM java.lang.Object[] s</pre>

			<p class="p">This method is for Memory Analyzer 1.3 or later.
			The <span class="keyword">OBJECTS</span> converts the object to give a tree view rather than
			table result. We do not need the <span class="keyword">WHERE</span> clause as out of range
			accesses return null and the <span class="keyword">OBJECTS</span> skips nulls.</p>

			<pre class="pre codeblock">SELECT OBJECTS s.@referenceArray.get(2) FROM java.lang.Object[] s WHERE (s.@length &gt; 2)</pre>

			<p class="p">This method is for Memory Analyzer 1.1 or later.
				This reads as a long address the element at index 2 from all Object[] arrays which have at least 3 elements and
				converts them into objects.
			</p>

			<pre class="pre codeblock">SELECT OBJECTS s.getReferenceArray(2,1) FROM java.lang.Object[] s WHERE (s.@length &gt; 2)</pre>

			<p class="p">This method is for Memory Analyzer 1.1 or later. 
				This reads as an array of long[] 1 element starting at index 2  from all Object[] arrays which have at least 3 elements and
				converts the contents of those arrays into objects.
			</p>

		</div>

		<div class="section"><h2 class="title sectiontitle">Reading from Java arrays</h2>
			
			<pre class="pre codeblock">SELECT s.@GCRoots[2] FROM OBJECTS ${snapshot} s</pre>

			<p class="p">This method is for Memory Analyzer 1.3 or later.</p>

			<pre class="pre codeblock">SELECT s.get(2) FROM OBJECTS ${snapshot} s  WHERE s.@GCRoots.@length &gt; 2</pre>

			<p class="p">This method is for all versions of Memory Analyzer.</p>

		</div>

		<div class="section"><h2 class="title sectiontitle">Reading from Java Lists</h2>
			
			<pre class="pre codeblock">SELECT s.@GCRoots.subList(1,3)[1] FROM OBJECTS ${snapshot} s</pre>

			<p class="p">This method is for Memory Analyzer 1.3 or later.</p>

			<pre class="pre codeblock">SELECT s.@GCRoots.subList(1,3).get(1) FROM OBJECTS ${snapshot} s</pre>

			<p class="p">This method is for all versions of Memory Analyzer.</p>

		</div>

		<div class="section"><!--no heading--><h2 class="title sectiontitle">
		</h2>
		
		</div>

		<div class="section"><h2 class="title sectiontitle">Built-in OQL functions</h2>
			
			<pre class="pre codeblock">&lt;function&gt;( &lt;parameter&gt; )</pre>

			<p class="p">Built-in functions.</p>

			<table cellpadding="4" cellspacing="0" summary="" id="propertyaccessors__oql_functions" border="1" class="simpletable"><tr class="strow">
					<td valign="top" class="stentry" width="40%">
						<pre class="pre codeblock">toHex( number )</pre>

					</td>

					<td valign="top" class="stentry" width="60%">Print the number as hexadecimal</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry">
						<pre class="pre codeblock">toString( object )</pre>

					</td>

					<td valign="top" class="stentry">
						Returns the value of an object, e.g. the content
						of a String etc.
					</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry">
						<pre class="pre codeblock">dominators( object )</pre>

					</td>

					<td valign="top" class="stentry">
						The objects immediately dominated by the object
					</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry">
						<pre class="pre codeblock">outbounds( object )</pre>

					</td>

					<td valign="top" class="stentry">outbound referrer</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry">
						<pre class="pre codeblock">inbounds( object )</pre>

					</td>

					<td valign="top" class="stentry">inbound referrer</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry">
						<pre class="pre codeblock">classof( object )</pre>

					</td>

					<td valign="top" class="stentry">the class of the current object</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry">
						<pre class="pre codeblock">dominatorof( object )</pre>

					</td>

					<td valign="top" class="stentry">
						the immediate dominator, -1 if none
					</td>

				</tr>
<tr class="strow">
					<td valign="top" class="stentry">
						<pre class="pre codeblock">eval( expression )</pre>

					</td>

					<td valign="top" class="stentry">
						(Experimental in Memory Analyzer 1.4) evaluates the argument and returns it.
						Could be useful to allow array/method access to the result of a sub-select or
						expression.
					</td>

				</tr>
</table>


		</div>

	</div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../reference/oqlsyntax.html">OQL Syntax</a></div>
</div>
</div>

</body>
</html>